## Message broker

#### 1. Опыт работы с брокерами сообщений
Существуют два самых популярных брокера сообщений. Kafka и RabbitMQ
#### 2. Плюсы и минусы брокеров сообщений
**Плюсы**:
- *Асинхронность*: Службы могут работать независимо друг от друга.
- *Масштабируемость*: Легко увеличивать количество потребителей.
- *Надежность*: Сообщения не теряются благодаря механизмам повторных попыток и подтверждений.
- *Разделение нагрузки*: Потребители могут обрабатывать сообщения параллельно.

**Минусы**:
- *Сложность настройки*: Требует правильной конфигурации для эффективной работы.
- *Задержка*: Добавление брокера увеличивает задержку доставки сообщений.
- *Поддержка инфраструктуры*: Нужны усилия для мониторинга и администрирования.

#### 3. Опыт работы с Kafka
-

#### 4. Опыт работы с RabbitMQ
-

#### 5. Разница между Kafka и RabbitMQ
- **Модели сообщений**
  - *Kafka*. Сообщения не удаляются после доставки
  - *RabbitMQ*. Сообщения удаляются после доставки

- **Обработка сообщений**
  - *Kafka*. Потребители сами запрашивают сообщения из топиков, читая их по мере необходимости
  - *RabbitMQ*. Сообщения пушатся к потребителям из очереди, когда те готовы их принять (следовательно сервер может лечь, если данных данных слишком много)

- **Производительность**
  - *Kafka* быстрее и производительнее чем *RabbitMQ*(за счет partition-ов + горизонтальное масштабирование)

#### 6. Что такое топик в Kafka?
*Топик* - это канал передачи информации определенного типа. Каждый топик в свою очередь разделен на partition-ы

#### 7. Что такое Producer и что такое Consumer?
- *Producer* - компонент, отправляющий сообщения (данные) в Kafka
- *Consumer* - компонент, получающий сообщения из Kafka

#### 8. Что такое partition в Kafka?
Это подразделение топика, в котором хранятся сообщения. По default-у сообщения будут закидываться в разные partition-ы, что увеличивает скорость обмена сообщениями между микросервисами, но при этом нет гарантии очередности доставки сообщений. Если нам надо, что бы какие-то сообщения приходили в строгой очередности - для этого существует ключ partition-ов, который позволяет объединить сообщения в очередь в конкретном partition-е

#### 9. Гарантии доставки в Kafka
- *At least once*. Гарантия того, что сообщение будет доставлено по крайней мере один раз, либо больше. 
- *At most once*. Гарантия того, что сообщение будет доставлено максимум один раз, либо не будет доставлено вовсе
- *Exactly once*. Гарантия того, что сообщение будет доставлено ровно один раз. Это наиболее строгий уровень гарантии и требует согласованности между producer-ом и consumer-ом, чтобы избежать дублирования сообщений

#### 10. Какие паттерны работы с очередями?
- **Point-to-Point (P2P)**: Один продюсер, один потребитель. Сообщение читается одним потребителем и удаляется из очереди.
- **Publish-Subscribe (Pub/Sub)**: Один продюсер отправляет сообщение нескольким подписчикам через обменники.
- **Work Queue**: Несколько потребителей обрабатывают сообщения из одной очереди, распределяя нагрузку.
- **Dead Letter Queue (DLQ)**: Очередь для сообщений, которые не удалось обработать.
- **Priority Queue**: Сообщения обрабатываются в зависимости от их приоритета.
