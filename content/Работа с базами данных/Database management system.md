+++
title = 'Базы данных'
weight = 1
bookFlatSection = true
+++

## Базы данных

#### 1. Виды БД и для чего их лучше использовать?
  1. Реляционные БД
  2. Документоориентированные базы данных
  3. Графовые базы данных
  4. Ключ-значение базы данных
  5. Колонноориентированные базы данных
  6. Временные базы данных (Time-Series)
  7. Объектно-ориентированные базы данных
  8. NewSQL

**Таблица сравнений**

|Вид БД|Примеры|Основное применение|
|---|---|---|
|Реляционные|MySQL, PostgreSQL|Финансы, CRM, интернет-магазины|
|Документоориентированные|MongoDB, CouchDB|Гибкие структуры данных, профили пользователей|
|Графовые|Neo4j, OrientDB|Анализ связей, социальные сети|
|Ключ-значение|Redis, DynamoDB|Кэширование, сессии|
|Колонноориентированные|Cassandra, HBase|Аналитика, большие данные|
|Временные|InfluxDB, TimescaleDB|Метрики, IoT|
|Объектно-ориентированные|ObjectDB|CAD, моделирование|
|NewSQL|CockroachDB|Масштабируемость, транзакции|

#### 2. Где хранили данные на проекте?
На проектах данные хранились в зависимости от задач:

- **Локальные базы данных** — для небольших приложений и во время разработки использовались локальные версии баз данных, такие как *PostgreSQL* и *MySQL*.

- **Тестирование** - в процессе разработки и тестирования часто использовалась база данных *H2*. 
  
- **Облачные решения** — для масштабируемых приложений использовались облачные сервисы, такие как *Amazon RDS*, что позволяло автоматизировать резервное копирование и управление ресурсами.

- **Кэширование данных** — в высоконагруженных системах использовались такие хранилища, как *Redis*, для кэширования часто запрашиваемых данных, чтобы снизить нагрузку на основную базу данных.

#### 3. Какого размера БД на проекте?
- *Небольшие проекты* — от нескольких сотен мегабайт до 5–10 гигабайт данных (например, в веб-приложениях с ограниченным количеством пользователей и транзакций).
- *Крупные корпоративные проекты* — БД могли достигать нескольких терабайт, особенно если речь шла о хранении исторических данных, логов транзакций или больших объёмов мультимедийных файлов. В таких проектах применялись стратегии шардирования и горизонтального масштабирования баз данных.

#### 4. Какая нагрузка была на ваши сервисы?
!!!
#### 5. Масштабирование. Как решить нехватку места на сервере?
!!!
#### 6. Репликация базы данных. Что это такое?
!!!
#### 7. Что такое шардирование?
*Шардирование* — это метод горизонтального масштабирования базы данных, при котором данные делятся на части (шарды) и распределяются между несколькими серверами. Каждый шард содержит только часть общего набора данных и работает как отдельная база данных.

***Как работает шардирование?***

1. Данные разбиваются по определённому ключу (например, идентификатор пользователя, географический регион).
2. Каждая часть (шард) хранится на отдельном сервере или экземпляре базы данных.
3. При запросе система определяет, на каком шарде находятся нужные данные, и обращается к нему.

***Зачем нужно шардирование?***

- **Масштабируемость:** Увеличение объёма данных обрабатывается добавлением новых серверов.
- **Производительность:** Запросы выполняются быстрее, так как каждый сервер обрабатывает только часть данных.
- **Изоляция:** Ошибка на одном шарде не влияет на другие.

***Плюсы шардирования***

- Возможность обработки больших объёмов данных.
- Уменьшение нагрузки на каждый отдельный сервер.
- Горизонтальное масштабирование, которое дешевле, чем вертикальное.

***Минусы шардирования***

- **Сложность реализации:** Требуется правильное распределение данных между шардами.
- **Обслуживание:** Управление несколькими серверами сложнее.
- **Перераспределение данных:** Если количество серверов изменяется, данные нужно перераспределить.

#### 8. NoSQL vs SQL
- *SQL* (реляционные базы данных): Структурированные таблицы с чёткой схемой данных.
- *NoSQL* (нереляционные базы данных): Гибкая структура для неструктурированных или полуструктурированных данных.

**Таблица сравнения**

|**Критерий**|**SQL (реляционные)**|**NoSQL (нереляционные)**|
|---|---|---|
|**Структура данных**|Таблицы (строки и столбцы).|Документы, ключ-значение, графы, колонки.|
|**Схема**|Жёсткая, требуется заранее определить.|Гибкая, можно изменять структуру данных.|
|**Язык запросов**|SQL (стандартный язык запросов).|API или специальные запросы (например, MongoDB Query).|
|**Масштабируемость**|Вертикальная (добавление ресурсов серверу).|Горизонтальная (добавление серверов).|
|**Целостность данных**|Высокая (ACID-транзакции).|Может быть слабее, иногда поддерживается BASE.|
|**Скорость**|Оптимизировано для сложных операций и JOIN.|Высокая скорость для простых операций.|
|**Когда использовать**|Структурированные данные, сложные связи.|Гибкие, быстро меняющиеся данные.|
|**Примеры**|MySQL, PostgreSQL, Oracle.|MongoDB, Redis, Cassandra, Neo4j.|

